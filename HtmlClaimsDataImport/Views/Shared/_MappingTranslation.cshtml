@model HtmlClaimsDataImport.Models.MappingTranslationModel

<!-- Collapsible model prompt UI -->
<div class="model-prompt-container">
    <div id="modelPromptCollapsed" class="model-prompt-collapsed" onclick="expandModelPrompt()">
        expand to view prompt
    </div>

    <div id="modelPromptExpanded" class="model-prompt-expanded hidden">
        <div class="model-prompt-controls">
            <a href="#" onclick="return collapseModelPrompt()">hide prompt</a>
            <button type="button" class="edit-btn" id="editModelPromptBtn" onclick="editModelPrompt()">edit prompt</button>
            <button type="button" class="hidden save-btn" id="saveModelPromptBtn" onclick="saveModelPrompt()">save</button>
            <button type="button" class="hidden cancel-btn" id="cancelModelPromptBtn" onclick="cancelEditModelPrompt()">cancel</button>
            <button type="button"
                    class="send-btn"
                    id="sendModelPromptBtn"
                    hx-post="/ClaimsDataImporter?handler=SubmitPromptToAI"
                    hx-target="#column-translation-ai-response"
                    hx-swap="innerHTML"
                    hx-include="#tmpdir, input[name='__RequestVerificationToken'], #modelPromptHidden">
                send to AI
            </button>
        </div>
        <div id="modelPromptReadonly" class="model-prompt-readonly">
            <pre class="model-prompt-pre">@Model.ModelPrompt</pre>
        </div>
        <div id="modelPromptEditor" class="model-prompt-editor hidden">
            <textarea id="modelPromptTextarea" class="model-prompt-textarea">@Model.ModelPrompt</textarea>
        </div>
        <input type="hidden" id="modelPromptHidden" name="promptText" value="@Model.ModelPrompt" />
    </div>
</div>

<style>
    .hidden { display: none; }
    .model-prompt-container { margin-top: 0.5em; }
    .model-prompt-collapsed { cursor: pointer; color: #0d6efd; text-decoration: underline; font-size: 0.95em; }
    .model-prompt-expanded { border: 0.0625em solid #e9ecef; border-radius: 0.375em; padding: 0.625em; background: #f8f9fa; }
    .model-prompt-controls { display: flex; gap: 0.625em; align-items: center; margin-bottom: 0.5em; }
    .model-prompt-pre { white-space: pre-wrap; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; font-size: 0.75em; margin: 0; }
    .model-prompt-textarea { width: 100%; min-height: 12.5em; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; font-size: 0.75em; }
    .send-btn { margin-left: auto; }
</style>
